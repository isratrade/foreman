<%# This template has special name (do not change it) and it is used for booting unknown systems. %>

DEFAULT menu
PROMPT 0
MENU TITLE PXE Menu
TIMEOUT 200
TOTALTIMEOUT 6000
ONTIMEOUT local

LABEL local
     MENU LABEL (local)
     MENU DEFAULT
     LOCALBOOT 0

<% for profile in @profiles -%>
LABEL <%= "#{profile[:template]} - #{profile[:system_group]}" %>
     kernel <%= profile[:system_group].operatingsystem.kernel(profile[:system_group].architecture) %>
<% case profile[:system_group].operatingsystem.pxe_type -%>
<% when "kickstart" -%>
     append initrd=<%= profile[:system_group].operatingsystem.initrd(profile[:system_group].architecture) %> ks=<%= default_template_url(profile[:template], profile[:system_group]) %> ksdevice=bootif network kssendmac
<% when "preseed" -%>
     append initrd=<%= profile[:system_group].operatingsystem.initrd(profile[:system_group].architecture) %> interface=auto url=<%= default_template_url(profile[:template], profile[:system_group]) %> ramdisk_size=10800 root=/dev/rd/0 rw auto systemname=unassigned-systemname locale=en_US console-setup/ask_detect=false console-setup/layout=USA console-setup/variant=USA
<% end -%>

<% end -%>

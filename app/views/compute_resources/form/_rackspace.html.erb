<%= text_f f, :url, :value => params[:compute_url], :label => "Authentication URL", :class => "input-xlarge", :help_block => "e.g. https://identity.api.rackspacecloud.com" %>
<%= text_f f, :user, :label => "Username", :value => params[:user] %>
<%= password_f f, :password, :label => "API Key", :value => params[:password] %>
<% flavors = f.object.flavors rescue [] -%>
<% regions = f.object.regions rescue [] %>

<%= selectable_f(f, :region, regions, {}, {
      :label => 'Region',
      :help_inline => link_to("Test Connection", "#", :class => "btn + #{flavors.empty? ? "" : "btn-success"}", :onclick => "testConnection(this)", :remote => true, :'data-url' => test_connection_compute_resources_path
       ) +
      image_tag('spinner.gif', :id => 'test_connection_indicator', :class => 'hide').html_safe
      }
) %>

<%= text_f f, :user, :label => "Access Key", :value => params[:user] %>
<%= password_f f, :password, :label => "Secret Key", :value => params[:password] %>

<% regions = f.object.regions rescue [] %>
<%= selectable_f(f, :region, regions, {}, {
      :label => 'Region',
      :disabled => regions.empty?,
      :help_inline => link_to((regions.empty? ? "Load Regions" : "Test Connection"), "#", :class => "btn + #{regions.empty? ? "" : "btn-success"}", :onclick => "testConnection(this)", :remote => true, :'data-url' => test_connection_compute_resources_path
       ) +
      image_tag('spinner.gif', :id => 'test_connection_indicator', :class => 'hide').html_safe
      }
) %>
